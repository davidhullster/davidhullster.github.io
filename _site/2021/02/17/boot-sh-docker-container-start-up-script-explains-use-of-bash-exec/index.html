<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/assets/css/main.scss" />
    <title>boot.sh: Docker container start-up script -- explains use of 'bash exec'</title>
  </head>
  <body>
    <nav>
      <a href="/">Home</a>
      <a href="/blog/">Posts</a>
      <a href="/about/">About</a>
      <hr>
    </nav>
    <h1>boot.sh: Docker container start-up script -- explains use of 'bash exec'</h1>
    <section>
      <p><!-- wp:paragraph --></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code --></p>
<pre class="wp-block-syntaxhighlighter-code">#!/bin/sh
source venv/bin/activate
flask db upgrade
exec gunicorn -b :5000 --access-logfile - --error-logfile - microblog:app</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p>Note the&nbsp;<code>exec</code>&nbsp;that precedes the gunicorn command. In a shell script,&nbsp;<code>exec</code>&nbsp;triggers the process running the script to be replaced with the command given, instead of starting it as a new process. This is important, because Docker associates the life of the container to the first process that runs on it. In cases like this one, where the start up process is not the main process of the container, you need to make sure that the main process takes the place of that first process to ensure that the container is not terminated early by Docker.</p>
<p><!-- /wp:paragraph --></p>


    </section>
    <footer>
      &copy; davidhullster
    </footer>
  </body>
</html>
