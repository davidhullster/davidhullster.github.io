<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/assets/css/main.css" />
    <title>Use jq to parse AWS CLI</title>
  </head>
  <body>
    <nav>
      <a href="/">Home</a>
      <a href="/blog/">Posts</a>
      <a href="/about/">About</a>
      <hr>
    </nav>
    <h1>Use jq to parse AWS CLI</h1>
    <section>
      <p><!-- wp:paragraph --></p>
<p><code>## outputs JSON</code><br /><code>aws ec2 describe-instances --region us-east-2 |jq "[<br />.Reservations | .[] | .Instances | .[] |<br />{instanceId: .InstanceId, launchTime: .LaunchTime,<br />state: .State, stateReason: .StateReason}<br />]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-instances --region us-east-2 | jq "[.Reservations | .[] | .Instances | .[] | {instanceId: .InstanceId, launchTime: .LaunchTime, state: .State, stateReason: .StateReason}]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-instances --region us-east-2 | select(.State.Name == \"running\")" | jq "[ .Reservations | .[] | .Instances | .[] | {instanceId: .InstanceId, launchTime: .LaunchTime, state: .State, stateReason: .StateReason} ]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-vpcs | jq "[.Vpcs | .[] | .CidrBlock ]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-subnets | jq '[.Subnets|.[]|{Subnet:.SubnetId,AZ:.AvailabilityZone}]'</code></p>
<p><!-- /wp:paragraph --></p>


    </section>
    <footer>
      &copy; davidhullster
    </footer>
  </body>
</html>
