<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/assets/css/main.scss" />
    <title>AWS IAM - get temporary credentials with cli</title>
  </head>
  <body>
    <nav>
      <a href="/">Home</a>
      <a href="/blog/">Posts</a>
      <a href="/about/">About</a>
      <hr>
    </nav>
    <h1>AWS IAM - get temporary credentials with cli</h1>
    <section>
      <p><!-- wp:paragraph --></p>
<p>Run the&nbsp;<a href="https://docs.aws.amazon.com/cli/latest/reference/sts/get-session-token.html" target="_blank" rel="noreferrer noopener">sts get-session-token</a>&nbsp;AWS CLI command, replacing the variables with information from your account, resources, and MFA device:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code --></p>
<pre class="wp-block-syntaxhighlighter-code">$ aws sts get-session-token --serial-number arn-of-the-mfa-device --token-code code-from-token</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p>You receive an output with temporary credentials and an expiration time (by default, 12 hours) similar to the following:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code --></p>
<pre class="wp-block-syntaxhighlighter-code">{
    "Credentials": {
        "SecretAccessKey": "secret-access-key",
        "SessionToken": "temporary-session-token",
        "Expiration": "expiration-date-time",
        "AccessKeyId": "access-key-id"
    }
}</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p><strong>Note:</strong>&nbsp;You can specify an expiration duration (in seconds) using the&nbsp;<strong>--duration-seconds</strong>&nbsp;option in the&nbsp;<strong>sts get-session-token</strong>&nbsp;command, where the value can range from 900 seconds (15 minutes) to 129600 seconds (36 hours). If you are using root user credentials, the range is from 900 seconds (15 minutes) to 3600 seconds (1 hour).</p>
<p><!-- /wp:paragraph --></p>


    </section>
    <footer>
      &copy; davidhullster
    </footer>
  </body>
</html>
