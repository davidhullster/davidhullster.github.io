---
layout: posts
title: Use jq to parse AWS CLI
date: 2021-01-25 14:41:04.000000000 -08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- aws
- jq
tags: []
meta:
  _last_editor_used_jetpack: block-editor
  _publicize_job_id: '53884843131'
  timeline_notification: '1611585667'
author:
  login: thatsd
  email: davidhullster@gmail.com
  display_name: davidhullster
  first_name: ''
  last_name: ''
permalink: "/2021/01/25/use-jq-to-parse-aws-cli/"
---
<p><!-- wp:paragraph --></p>
<p><code>## outputs JSON</code><br /><code>aws ec2 describe-instances --region us-east-2 |jq "[<br />.Reservations | .[] | .Instances | .[] |<br />{instanceId: .InstanceId, launchTime: .LaunchTime,<br />state: .State, stateReason: .StateReason}<br />]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-instances --region us-east-2 | jq "[.Reservations | .[] | .Instances | .[] | {instanceId: .InstanceId, launchTime: .LaunchTime, state: .State, stateReason: .StateReason}]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-instances --region us-east-2 | select(.State.Name == \"running\")" | jq "[ .Reservations | .[] | .Instances | .[] | {instanceId: .InstanceId, launchTime: .LaunchTime, state: .State, stateReason: .StateReason} ]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-vpcs | jq "[.Vpcs | .[] | .CidrBlock ]"</code></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><code>aws ec2 describe-subnets | jq '[.Subnets|.[]|{Subnet:.SubnetId,AZ:.AvailabilityZone}]'</code></p>
<p><!-- /wp:paragraph --></p>
